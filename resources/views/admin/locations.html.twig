{% extends 'layout_admin.html.twig' %}
{% set admin_active = 'locations' %}

{% block admin_content %}
    <table class="table table-striped well">
        <thead>
            <tr>
                <th>ID</th>
                <th>Game</th>
                <th>Level</th>
                <th>Lat / Lang</th>
                <th>Visible</th>
            </tr>
        </thead>
        <tbody>
            {% for location in locations %}
                <tr>
                    <td>
                        {{ location.id }}
                    </td>
                    <td>
                        <a href="{{ location.level.game.getFullLink() }}">{{ location.level.game.name }}</a>
                    </td>
                    <td>
                        <a href="{{ location.level.getFullLink() }}">{{ location.level }}</a>
                    </td>
                    <td>
                        {{ location.lat }} {{ location.lng }}
                    </td>
                    <td>
                        {{ location.visible ? 'Yes' : 'No' }}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <div id="level_content_modal" class="modal hide fade" tabindex="-1" role="dialog"
         aria-labelledby="level_content_modal_label" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="level_content_modal_label">Level Content</h3>
        </div>
        <div class="modal-body">
            <p>One fine body…</p>
        </div>
        <div class="modal-footer">
            <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
        </div>
    </div>
{% endblock %}

{% block customjs %}
    <script type="text/javascript">
        $('#level_content_modal').on('hidden', function() {
            $(this).data('modal').$element.removeData();
        })
    </script>
{% endblock %}
